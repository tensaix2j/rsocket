<head>
<script type="text/javascript">
  

  ans = 0;

  function WebSocketTest()
  {
    if ("WebSocket" in window)
    {
       
       var ws = new WebSocket("ws://localhost:6101/fmsd");


       ws.onopen = function() {

          // Web Socket is connected, send data using send()
          console.log("onopen");  

          //ws.send("LMAOssdfdsfk;sdlfkds;lfkds ;lfkds ;lfkd f;ldskf ldsfksd ;fldskf ;ldskf ds;l sdfdsfdsfdsfdsfdsfdsfdsfld;slfsd;lfffffffffffffs;dlfd;slds;lfds;lf;dslfs;dlf;sdlf;dslf;dslfds;lfds;lfs;dlf;dsfl;dslf;sdlfds;lf;dslf;dslf;dsfl;dslfs;dlf;dsfl;dslf;dslf;dsl\n");
          ws.send( "helloworld012345678 hellowo\n")
          
          setInterval( function() { 

            ws.send("keep sending " + Math.random() + "\n");

          }, 2000);

          //ws.send("hello"); 
       };
       
       ws.onmessage = function (evt) { 
          
          var received_msg = evt.data;
          console.log("Message is received...", evt.data);

          ans += 1;
          console.log( ans );

       };
       

       ws.onclose = function() { 
          // websocket is closed.
          console.log("Connection is closed..."); 
       };

       ws.onerror = function() {
          console.log("Error");
       }
    }
    else
    {
       // The browser doesn't support WebSocket
       console.log("WebSocket NOT supported by your Browser!");
    }
  }

</script>

</head>

<body>
<div id="sse">
   <a href="javascript:WebSocketTest()">Run WebSocket</a>
</div>
</body>
